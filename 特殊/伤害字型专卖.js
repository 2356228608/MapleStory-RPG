/*  This is mada by 娜娜    
 *  This source is made by BMS Team
 *  脚本功能:伤害字型专卖
 *  @Author 娜娜 
 */
var status = 0;
var choice;
var scrolls = Array(

Array(" 1",2433104, 10000),
Array(" 2",2434566, 10000),
//Array(" 3",2432131, 10000),
//Array(" 4",2432603, 10000),
//Array(" 5",2432154, 10000),
//Array(" 6",2432207, 10000),
//Array(" 7",2432354, 10000),
//Array(" 8",2432355, 10000),
//Array(" 9",2432465, 10000),
//Array(" 10",2432479, 10000),
//Array(" 11",2432526, 10000),
//Array(" 12",2432532, 10000),

//Array(" 13",2432592, 10000),
//Array(" 14",2432640, 10000),
//Array(" 15",2432710, 10000),
//Array(" 16",2432836, 10000),
//Array(" 17",2434519, 10000),
//Array(" 18",2433063, 10000),
//Array(" 20",2433178, 10000),
/*
Array(" 21",2433456, 10000),
Array(" 22",2433631, 10000),
Array(" 23",2433715, 10000),
Array(" 24",2433804, 10000),
Array(" 25",2435356, 10000),
Array(" 26",2433913, 10000),
Array(" 27",2433980, 10000),
Array(" 28",2433981, 10000),
Array(" 29",2433990, 10000),
Array(" 34",2435027, 10000),
Array(" 35",2434273, 10000),
Array(" 36",2434274, 10000),
Array(" 37",2434289, 10000),
Array(" 38",2434390, 10000),
Array(" 39",2434391, 10000),
Array(" 41",2434528, 10000),
Array(" 42",2434529, 10000),
Array(" 43",2434530, 10000),
Array(" 44",2434546, 10000),
Array(" 45",2434574, 10000),
Array(" 46",2434575, 10000),
Array(" 47",2434542, 10000),
Array(" 48",2434654, 10000),
Array(" 49",2434655, 10000),
Array(" 50",2434661, 10000),
Array(" 51",2434710, 10000),
Array(" 52",2434734, 10000),
Array(" 53",2434824, 10000),
Array(" 74",2434950, 10000),
Array(" 75",2434951, 10000),
Array(" 76",2435030, 10000),
Array(" 77",2435043, 10000),
Array(" 78",2435044, 10000),
Array(" 79",2435046, 10000),
Array(" 80",2435047, 10000),
Array(" 81",2435140, 10000),
Array(" 82",2435141, 10000),
Array(" 83",2435179, 10000),
Array(" 84",2435162, 10000),*/
//Array(" 85",2435157, 10000),
//Array(" 86",2435158, 10000),
//Array(" 87",2435159, 10000),
//Array(" 88",2434619, 10000),
//Array(" 89",2434663, 10000),
//Array(" 90",3801003, 10000),
Array(" 91",2435166, 10000),
Array(" 92",2435184, 10000),
Array(" 93",2435222, 10000),
Array(" 100",2435316, 10000),
Array(" 101",2435408, 10000),
Array(" 102",2435427, 10000),
Array(" 103",2435428, 10000),
Array(" 106",2437190, 10000),
Array(" 109",2435424, 10000),
Array(" 110",2435425, 10000),
Array(" 114",2435433, 10000),
Array(" 121",2436766, 10000),
Array(" 127",2435972, 10000),
Array(" 128",2436023, 10000),
Array(" 129",2436024, 10000),
Array(" 130",2436026, 10000),
Array(" 131",2436027, 10000),
Array(" 132",2436028, 10000),
Array(" 133",2436029, 10000),
Array(" 145",2436268, 10000),
Array(" 146",2436258, 10000),
Array(" 147",2436259, 10000),
Array(" 148",2436400, 10000),
Array(" 152",2436528, 10000),
Array(" 153",2436529, 10000),
Array(" 154",2436522, 10000),
Array(" 155",2436553, 10000),
Array(" 156",2436560, 10000),
Array(" 157",2436578, 10000),
Array(" 163",2436681, 10000),
Array(" 164",2436682, 10000),
Array(" 165",2436133, 10000),
Array(" 166",2436474, 10000),
Array(" 182",3801113, 10000),
Array(" 1000",2432591, 10000),
Array(" 1001",2432695, 10000),
Array(" 1002",2432748, 10000),
Array(" 1003",2432749, 10000),
Array(" 1004",2432804, 10000),
Array(" 1007",2433112, 10000),
Array(" 1008",2433113, 10000),
Array(" 1010",2433038, 10000),
Array(" 1012",2433197, 10000),
Array(" 1014",2433182, 10000),
Array(" 1015",2433183, 10000),
Array(" 1016",2433184, 10000),
Array(" 1020",2433362, 10000),
Array(" 1021",2433558, 10000),
Array(" 1022",2433587, 10000),
Array(" 1023",2433588, 10000),
Array(" 1024",2433572, 10000),
Array(" 1025",2433571, 10000),
Array(" 1026",2433570, 10000),
Array(" 1027",2433569, 10000),
Array(" 1028",2433568, 10000),
Array(" 1030",2434081, 10000),
Array(" 1031",2433777, 10000),
Array(" 1032",2433775, 10000),
Array(" 1033",2433776, 10000),
Array(" 1040",2433883, 10000),
Array(" 1034",2433828, 10000),
Array(" 1035",2433829, 10000),
Array(" 1036",2433830, 10000),
Array(" 1037",2433831, 10000),
Array(" 1038",2433832, 10000),
Array(" 1039",2433833, 10000),
Array(" 1042",2434147, 10000),
Array(" 1043",2434157, 10000),
Array(" 1045",2434375, 10000),
Array(" 1048",2434374, 10000),
Array(" 1050",2434601, 10000),
Array(" 1053",2434544, 10000),
Array(" 1054",2434545, 10000),
Array(" 1055",2434658, 10000),
Array(" 1056",2434659, 10000),
Array(" 1057",2434619, 10000),
Array(" 1062",2434868, 10000),
Array(" 1063",3801002, 10000),
Array(" 1064",2434873, 10000),
Array(" 1065",2434875, 10000),
Array(" 1066",2434877, 10000),
Array(" 1067",2434879, 10000),
Array(" 1068",2434817, 10000),
Array(" 1069",2434818, 10000),
Array(" 1083",2435486, 10000),
Array(" 1084",2435487, 10000),
Array(" 1085",2435488, 10000),
Array(" 1086",2435489, 10000),
Array(" 1070",2435037, 10000),
Array(" 1061",2435357, 10000),
Array(" 1049",2435358, 10000),
Array(" 1081",2435335, 10000),
Array(" 1082",2435336, 10000),
Array(" 1087",2435548, 10000),
Array(" 1088",2435549, 10000),
Array(" 1089",2435542, 10000),
Array(" 1090",2435543, 10000),
Array(" 1091",2435544, 10000),
Array(" 1092",2435545, 10000),
Array(" 1093",2435546, 10000),
Array(" 1094",2435568, 10000),
Array(" 1095",2435565, 10000),
Array(" 1096",2435566, 10000),
Array(" 1097",2435567, 10000),
Array(" 1079",2435196, 10000),
Array(" 1098",2435673, 10000),
Array(" 1099",2435674, 10000),
Array(" 1114",2435905, 10000),
Array(" 1115",2435906, 10000),
Array(" 1116",2435907, 10000),
Array(" 1117",2435908, 10000),
Array(" 1100",2435802, 10000),
Array(" 1119",2435949, 10000),
Array(" 1120",2435950, 10000),
Array(" 1122",2435952, 10000),
Array(" 1123",2435953, 10000),
Array(" 1118",2435948, 10000),
Array(" 1121",2435951, 10000),
Array(" 1124",2435954, 10000),
Array(" 1125",2435955, 10000),
Array(" 1126",2435956, 10000),
Array(" 1127",2435957, 10000),
Array(" 1140",2436227, 10000),
Array(" 1141",2436228, 10000),
Array(" 1142",2436229, 10000),
Array(" 1143",2436230, 10000),
Array(" 1133",2436132, 10000),
Array(" 1134",2436133, 10000),
Array(" 1135",2436134, 10000),
Array(" 1136",2436136, 10000),
Array(" 1077",2435193, 10000),
Array(" 1080",2435213, 10000),
Array(" 1145",2436323, 10000),
Array(" 1230",2436474, 10000),
Array(" 1231",2436475, 10000),
Array(" 1232",2436476, 10000),
Array(" 1233",2436477, 10000),
Array(" 1234",2436478, 10000),
Array(" 1235",2436479, 10000),
Array(" 1144",2436300, 10000),
Array(" 1245",2436643, 10000),
Array(" 1246",2436644, 10000),
Array(" 1247",2436645, 10000),
Array(" 1248",2436646, 10000),
Array(" 1236",2436563, 10000),
Array(" 1237",2436651, 10000),
Array(" 1238",2436652, 10000),
Array(" 1239",2436653, 10000),
Array(" 1240",2436654, 10000),
Array(" 1241",2436655, 10000),
Array(" 1242",2436656, 10000),
Array(" 1243",2436657, 10000),
Array(" 1244",2436658, 10000),
Array(" 1250",2436740, 10000),
Array(" 1251",2436741, 10000),
Array(" 1252",2436742, 10000),
Array(" 1253",2436743, 10000),
Array(" 1254",2436744, 10000),
Array(" 1255",2436745, 10000),
Array(" 1256",2436746, 10000),
Array(" 1257",2436747, 10000),
Array(" 1258",2436748, 10000),
Array(" 1259",2436749, 10000),
Array(" 1260",2436808, 10000),
Array(" 1262",2436831, 10000),
Array(" 1263",2436832, 10000),
Array(" 1266",2437005, 10000),
Array(" 1261",2436830, 10000),
Array(" 1267",2437049, 10000),
Array(" 1268",2437050, 10000),
Array(" 1269",2437051, 10000),
Array(" 1270",2437052, 10000),
Array(" 1272",2436986, 10000),
Array(" 1273",2437166, 10000),
Array(" 1274",2437167, 10000),
Array(" 1275",2437168, 10000),
Array(" 1276",2437169, 10000),
Array(" 1271",2436984, 10000),
Array(" 1281",2437274, 10000),
Array(" 1277",2437268, 10000),
Array(" 1278",2437269, 10000),
Array(" 1279",2437270, 10000),
Array(" 1280",2437271, 10000),
Array(" 1298",2437696, 10000),
Array(" 1299",2437697, 10000),
Array(" 1304",2437707, 10000),
Array(" 1305",2437708, 10000),
Array(" 1306",2437709, 10000),
Array(" 1307",2437710, 10000),
Array(" 1308",2437711, 10000),
Array(" 1309",2437712, 10000),
Array(" 1288",2437488, 10000),
Array(" 1289",2437489, 10000),
Array(" 1290",2437490, 10000),
Array(" 1291",2437491, 10000),
Array(" 1286",2437484, 10000),
Array(" 1287",2437485, 10000),
Array(" 1310",2437768, 10000),
Array(" 1311",2437769, 10000),
Array(" 1292",2437521, 10000),
Array(" 1293",2437522, 10000),
Array(" 1294",2437523, 10000),
Array(" 1295",2437524, 10000),
Array(" 1312",2437856, 10000),
Array(" 1300",2437700, 10000),
Array(" 1301",2437701, 10000),
Array(" 1302",2437702, 10000),
Array(" 1303",2437703, 10000),
Array(" 1314",2438095, 10000),
Array(" 1320",2438347, 10000),
Array(" 1321",2438348, 10000),
Array(" 1315",2438085, 10000),
Array(" 1316",2438086, 10000),
Array(" 1317",2438087, 10000),
Array(" 1318",2438088, 10000),
Array(" 1319",2438089, 10000),
Array(" 1322",2438467, 10000),
Array(" 1323",2438469, 10000),
Array(" 1324",2438471, 10000),
Array(" 1325",2438473, 10000),
Array(" 1326",2438477, 10000),
Array(" 1339",2438929, 10000),
Array(" 1340",2438930, 10000),
Array(" 1341",2438931, 10000),
Array(" 1345",2439157, 10000),
Array(" 1346",2439164, 10000),
Array(" 1347",2439167, 10000),
Array(" 1348",2439129, 10000),
Array(" 1349",2439132, 10000),
Array(" 1351",2439373, 10000),
Array(" 1352",2439376, 10000),
Array(" 1354",2439523, 10000),
Array(" 1355",2439551, 10000),
Array(" 1356",2439554, 10000),
Array(" 1353",2439442, 10000),
Array(" 1358",2439697, 10000),
Array(" 1359",2439700, 10000),
Array(" 1360",2439711, 10000),
Array(" 1362",2439800, 10000),
Array(" 1363",2439805, 10000),
Array(" 1364",2439894, 10000),
Array(" 1365",2439897, 10000),
Array(" 1368",2630153, 10000),
Array(" 1369",2630156, 10000),
Array(" 1370",2630301, 10000),
Array(" 1371",2630304, 10000),
Array(" 1372",2630390, 10000),
Array(" 1373",2630393, 10000)
);

function start() {
    status = -1;
    action(1, 0, 0);
}

function action(mode, type, selection) {
    if (mode == -1)
        cm.dispose();
    else {
        if (status == 0 && mode == 0) {
            cm.dispose();
            return;
        } else if (status >= 1 && mode == 0) {
            cm.sendOk("好吧，欢迎下次继续光临！.");
            cm.dispose();
            return;
        }
        if (mode == 1)
            status++;
        else
            status--;

        if (status == 0) {
            choices = "\r\n点卷：#r" + cm.getPlayer().getCSPoints(1) + "#k (#r买后不支持退货哟亲#k)";
            for (var i = 0; i < scrolls.length; i++) {
                choices += "\r\n#L" + i + "##v" + scrolls[i][1] + "##z" + scrolls[i][1] + "#　#d需要#r" + scrolls[i][2] + "#d点卷#k#l";
            }
            cm.askMenuS("欢迎来到" + cm.getServerName() + "伤害字型专卖店,你想买我们商店的物品么?请选择吧：." + choices, 2);
        } else if (status == 1) {
            cm.askYesNo("你确定要购买#v" + scrolls[selection][1] + "##t" + scrolls[selection][1] + "#?");
            choice = selection;
        } else if (status == 2) {
            var money = scrolls[choice][2];
            if (cm.getPlayer().getCSPoints(1) < money) {
                cm.sendOk("抱歉，你没足够的点卷！");
                cm.dispose();
            } else {
				var gachaponItem = cm.gainGachaponItem(scrolls[choice][1], 1, "伤害字型专卖店", 3, true);
				if (gachaponItem != -1) {
					cm.gainNX(-money);
					cm.dispose();
					cm.sendOk("恭喜您成功购买#i" + scrolls[choice][1] + ":# #b#t" + scrolls[choice][1] + "##k。");
				} else {
					cm.sendOk("购买失败，请您确认在背包所有栏目窗口中是否有一格以上的空间。");
				}
            }
        }
    }
}
