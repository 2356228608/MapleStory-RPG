/*  This source is made by BMS Team
 *  脚本功能：[新手剧情]双弩精灵系列remake
 *  @Author 柠檬兔
 *  工具提供：Jessefjxm
 */

var status = -1;

function action(mode, type, selection) {
    if (mode == 1) {
        status++;
    } else {
        status--;
    }

    if (cm.getQuestStatus(24007)==1) {
        cm.sendOk("继续你的使命吧国王.");
        cm.dispose();
        return;
    }

    var i = -1;
        if (status <= i++) {
            cm.dispose();
} else if (status === i++) {
cm.onScriptMessage(4, 1033202, 0, 0,  "长老们！大家没事吧！但是……但是我们的村子……！", 256, 0, 2, 0, 0, 0); // [类型] 普通对话
} else if (status === i++) {
cm.onScriptMessage(4, 1033202, 0, 0,  "非常寒冷的气息包围了村子。双弩精灵，在你身上也能感觉到强烈的寒气。", 257, 0, 0, 0, 0, 0); // [类型] 普通对话
} else if (status === i++) {
cm.onScriptMessage(4, 1033202, 0, 0,  "你身上的寒气是最强烈的！难道……这是黑魔法师的力量？！", 257, 0, 4, 0, 0, 1033203); // [类型] 普通对话
} else if (status === i++) {
cm.onScriptMessage(4, 1033202, 0, 0,  "……小孩子们开始被封在冰里。再过一段时间，连大人们都……好像力量越强，受那种气息的影响就越慢。虽然我们还在坚持，不过也坚持不了太久……", 257, 0, 4, 0, 0, 1033204); // [类型] 普通对话
} else if (status === i++) {
cm.onScriptMessage(4, 1033202, 0, 0,  "这一切……都是我的错……虽然封印黑魔法师成功了，但是他留下的#r诅咒#k……连我们村……", 257, 0, 2, 0, 0, 0); // [类型] 普通对话
} else if (status === i++) {
cm.onScriptMessage(4, 1033202, 0, 0,  "诅咒？！", 257, 0, 4, 0, 0, 1033203); // [类型] 普通对话
} else if (status === i++) {
cm.onScriptMessage(4, 1033202, 0, 0,  "就是把村子冰起来的这个力量……", 257, 0, 4, 0, 0, 1033204); // [类型] 普通对话
} else if (status === i++) {
cm.onScriptMessage(4, 1033202, 0, 0,  "……原来黑魔法师对国王诅咒，所有精灵都会受到影响啊……", 257, 0, 0, 0, 0, 0); // [类型] 普通对话
} else if (status === i++) {
cm.onScriptMessage(4, 1033202, 0, 0,  "对不起……全都是我的错。要是我没有被黑魔法师诅咒的话……", 257, 0, 2, 0, 0, 0); // [类型] 普通对话
} else if (status === i++) {
cm.onScriptMessage(4, 1033202, 0, 0,  "让冒险岛世界陷入绝境的黑魔法师……真是个可怕的人。虽然封印成功了，但还是这么厉害……没想到我们竟然能把他封印起来。", 257, 0, 0, 0, 0, 0); // [类型] 普通对话
} else if (status === i++) {
cm.onScriptMessage(4, 1033202, 0, 0,  "双弩精灵，连你这么强的人都无法阻止的诅咒，其他人就更不可能阻止了。", 257, 0, 4, 0, 0, 1033204); // [类型] 普通对话
} else if (status === i++) {
cm.onScriptMessage(4, 1033202, 0, 0,  "双弩精灵！这不是你的错！封印成功了！都是因为邪恶的黑魔法师！", 257, 0, 4, 0, 0, 1033203); // [类型] 普通对话
} else if (status === i++) {
cm.onScriptMessage(4, 1033202, 0, 0,  "但是……我应该避免这种事情发生。也许我当初不应该去和黑魔法师战斗！……让精灵们落入了现在的境地……虽然我是国王，但我没有这样的资格！", 257, 0, 2, 0, 0, 0); // [类型] 普通对话
} else if (status === i++) {
cm.onScriptMessage(4, 1033202, 0, 0,  "别说这种话，双弩精灵。和黑魔法师的战斗要是能避免的话……我们也不会让你，让我们的国王到那么危险的地方去战斗。", 257, 0, 4, 0, 0, 1033204); // [类型] 普通对话
} else if (status === i++) {
cm.onScriptMessage(4, 1033202, 0, 0,  "该说抱歉的反倒是我们。你成为国王还没多久……就因为你是我们中力量最强的人而让你去面对黑魔法师……", 257, 0, 0, 0, 0, 0); // [类型] 普通对话
} else if (status === i++) {
cm.onScriptMessage(4, 1033202, 0, 0,  "我这个战斗长老太弱了，无法和黑魔法师战斗。我……我才应该跟你说抱歉……", 257, 0, 4, 0, 0, 1033203); // [类型] 普通对话
} else if (status === i++) {
cm.onScriptMessage(4, 1033202, 0, 0,  "不，不是长老们的错！是我说要去和黑魔法师战斗的……我并不后悔参战。我后悔的只是没能保护好你们而已……", 257, 0, 2, 0, 0, 0); // [类型] 普通对话
} else if (status === i++) {
cm.onScriptMessage(4, 1033202, 0, 0,  "那是我们所有人的责任。", 257, 0, 0, 0, 0, 0); // [类型] 普通对话
} else if (status === i++) {
cm.onScriptMessage(4, 1033202, 0, 0,  "你没有必要一个人背负这个责任。和黑魔法师战斗是我们全体精灵的决定，诅咒也必须由我们全体精灵来承担。", 257, 0, 4, 0, 0, 1033204); // [类型] 普通对话
} else if (status === i++) {
cm.updateInfoQuest(18821, "count=25");
cm.onScriptMessage(4, 1033202, 0, 0,  "被冻起来的人们都在担心你！没有任何人抱怨你！", 257, 0, 4, 0, 0, 1033203); // [类型] 普通对话
} else if (status === i++) {
cm.onScriptMessage(4, 1033202, 0, 0,  "大家……", 257, 0, 2, 0, 0, 0); // [类型] 普通对话
} else if (status === i++) {
cm.onScriptMessage(4, 1033202, 0, 0,  "真正可怕的不是诅咒。要是我们精灵相互埋怨，忘记了互敬互爱之心，那才是真正可怕的事情。不管黑魔法师的诅咒多么可怕，只要我们能活下去，就一定有办法。", 257, 0, 0, 0, 0, 0); // [类型] 普通对话
} else if (status === i++) {
cm.onScriptMessage(4, 1033202, 0, 0,  "只要有你在，我们精灵就还有希望。", 257, 0, 0, 0, 0, 0); // [类型] 普通对话
} else if (status === i++) {
cm.onScriptMessage(4, 1033202, 0, 0,  "有什么……办法吗？", 257, 0, 2, 0, 0, 0); // [类型] 普通对话
} else if (status === i++) {
cm.onScriptMessage(4, 1033202, 0, 0,  "现在要阻止诅咒好像太难了。但我们是精灵，是可以生活很长时间的人……时间总是站在我们一边。", 257, 0, 0, 0, 0, 0); // [类型] 普通对话
} else if (status === i++) {
cm.onScriptMessage(4, 1033202, 0, 0,  "请在黑魔法师的诅咒让我们全部沉睡之前，把埃欧雷封印起来，双弩精灵。如果诅咒无法避免的话，就把村庄完全封印起来，#b和所有的精灵一起沉睡#k，直到封印解开为止。", 257, 0, 0, 0, 0, 0); // [类型] 普通对话
} else if (status === i++) {
cm.onScriptMessage(4, 1033202, 0, 0,  "虽然我不知道诅咒什么时候才会解开，但是我们没有必要害怕时间。让我们耐心地等待吧，双弩精灵。", 257, 0, 4, 0, 0, 1033204); // [类型] 普通对话
} else if (status === i++) {
cm.onScriptMessage(4, 1033202, 0, 0,  "等大家都醒来的时候，黑魔法师的诅咒应该就会解开！", 257, 0, 4, 0, 0, 1033203); // [类型] 普通对话
} else if (status === i++) {
cm.onScriptMessage(4, 1033202, 0, 0,  "就算是黑魔法师的诅咒，也无法战胜时间的力量……最终的胜利，必定是属于我们的。", 257, 0, 0, 0, 0, 0); // [类型] 普通对话
} else if (status === i++) {
cm.onScriptMessage(4, 1033202, 0, 0,  "是的……我们一定要坚持下去！", 257, 0, 2, 0, 0, 0); // [类型] 普通对话
} else if (status === i++) {
cm.onScriptMessage(4, 1033202, 0, 0,  "那当然。啊……我也无法抵挡住诅咒的力量了。快去把村子封印起来吧，双弩精灵。让我们在漫长的岁月中沉睡，等待诅咒解开的时候，不要有肮脏的人来玷污我们美丽的村庄……", 257, 0, 0, 0, 0, 0); // [类型] 普通对话
} else if (status === i++) {
cm.onScriptMessage(4, 1033202, 0, 0,  "在封印之前，需要做几样准备。你最好先去问问#b阿斯迪拉#k。", 257, 0, 1, 0, 0, 0); // [类型] 普通对话
} else if (status === i++) {
cm.forceStartQuest(24007, "1");
cm.dispose();
    }
}


